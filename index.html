<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  
</head>

<style>
  .name {
    color:red;
  }

  .img {
    width: 100px;
    height: 100px;
  }

  
</style>

<body>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

<script>

  Расширение аппки на весь экран
  document.addEventListener('DOMContentLoaded', function() {
    // Расширение веб-приложения Telegram, если доступно
    if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.expand();
        
    }
    
    var userId = window.Telegram.WebApp.initDataUnsafe.user.id;
    var textField = document.getElementById('telegramIdField');
    textField.innerHTML = userId;


    // Получаем товары из БД
    fetch('https://api.baserow.io/api/database/rows/table/287613/?user_field_names=true', {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Token mBWaX1jGTuMGhmfdhq5FdX2JGyz4aYeu'
      }
    })
    .then(response => {
    // Обработка ответа
      return response.json(); // Разрешаем Promise и возвращаем его
    })
    .then(data => {
    console.log(data); // Здесь вы можете использовать данные JSON
    for (i=0 ; i < data.count ; i++ ){
      console.log(data.results[i].название);
      // Создаем элемент div
      var divName = document.createElement("div");
      divName.classList.add("name");
      
      var divPrice = document.createElement("div");
     
      var divImg = document.createElement("img");
      divImg.classList.add("img");
      // Задаем текст элемента
      divName.textContent = data.results[i].название;
      divPrice.textContent = data.results[i].цена + 'руб.';
      divImg.src = data.results[i].фото;
      divImg.alt = data.results[i].название;
      
      // Добавляем элемент в конец тела документа
      document.body.appendChild(divImg);
      document.body.appendChild(divName);
      document.body.appendChild(divPrice);
      


    }
    })
    .catch(error => {
    // Обработка ошибки
    });

    

  });


</script>

  <div>id001=</div><span id="telegramIdField"></span>
  

</body>
</html>
